<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Confirmation de commande</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
      /* Styles généraux */
      body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          background: #f9f9f9;
          color: #333;
      }
      .container {
          max-width: 700px;
          margin: auto;
          background: #fff;
          padding: 20px;
          border: 1px solid #ddd;
          border-radius: 8px;
      }
      h2 {
          color: #2c3e50;
          font-size: 22px;
          margin-bottom: 10px;
      }
      h3 {
          color: #444;
          font-size: 18px;
          margin-top: 20px;
      }
      p {
          line-height: 1.5;
          font-size: 15px;
      }
      table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
      }
      th, td {
          border: 1px solid #ddd;
          padding: 10px;
          text-align: left;
          font-size: 14px;
      }
      th {
          background: #f5f5f5;
      }
      .total {
          text-align: right;
          font-weight: bold;
      }
      .highlight {
          color: #e67e22;
      }

      /* Responsive */
      @media screen and (max-width: 600px) {
          .container {
              padding: 15px;
          }
          table, thead, tbody, th, td, tr {
              display: block;
              width: 100%;
          }
          thead {
              display: none; /* Masque l’entête sur mobile */
          }
          tr {
              margin-bottom: 15px;
              border-bottom: 2px solid #eee;
          }
          td {
              text-align: right;
              padding-left: 50%;
              position: relative;
          }
          td::before {
              content: attr(data-label);
              position: absolute;
              left: 15px;
              width: 45%;
              font-weight: bold;
              text-align: left;
          }
      }
  </style>
</head>
<body>
  <div class="container">
      <h2>Merci pour votre commande !</h2>
      <p>
        Votre commande a bien été enregistrée le 
        <strong>{{ order.createdAt|date('d/m/Y H:i') }}</strong>.
      </p>

      <h3>Détails de la commande :</h3>
      <table>
          <thead>
              <tr>
                  <th>Produit</th>
                  <th>Quantité</th>
                  <th>Prix Unitaire</th>
                  <th>Total</th>
              </tr>
          </thead>
          <tbody>
              {% for item in products %}
                  <tr>
                      <td data-label="Produit">{{ item.product.name }}</td>
                      <td data-label="Quantité">{{ item.quantity }}</td>
                      <td data-label="Prix Unitaire">{{ item.product.price }} €</td>
                      <td data-label="Total">{{ item.product.price * item.quantity }} €</td>
                  </tr>
              {% endfor %}
              <tr>
                  <td colspan="3" class="total">Frais de livraison</td>
                  <td>{{ order.city.shippingCost }} €</td>
              </tr>
              <tr>
                  <td colspan="3" class="total">Total à payer</td>
                  <td><strong class="highlight">{{ order.totalPrice }} €</strong></td>
              </tr>
          </tbody>
      </table>

      <p>Nous vous tiendrons informé lorsque votre commande sera expédiée.</p>
  </div>
</body>
</html>
